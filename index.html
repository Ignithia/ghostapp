<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!--mapbox-->
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />

  <!--AR-->
  <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>

  <!--css-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
    crossorigin="anonymous">
  <link rel="stylesheet" href="./css/index.css" />
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet'>

  <title>Ghosts of the past</title>
</head>
<style>

</style>

<body>
  <button id="stop-ar" class="stopar"
    onclick="stopScanner()">X</button>
  <div id="scan-overlay" class="hidden">
    <div id="inner" class="inner">
      <img id="img" src="" />
      <div class="scanline"></div>
    </div>
  </div>
  <div id="slides" class="hidden">
    <div class="inner" >
        <div id="slide" style="background: url('./img/comics/A835AP03S01H01.jpg') 0 0; background-repeat: no-repeat; 	background-size: cover;">
          <img id="closebut" src="./img/close.png"  onclick="closeSlides()">
          <img id="previousbut" src="./img/left.png"  onclick="previousSlide()">
          <img id="nextbut" src="./img/right.png"  onclick="nextSlide()">
        </div>
    </div>
  </div>
  <!-- sidebar -->
  <div id="sidebar" class="sidebar active">

    <div class='heading'>

      <button id="closeSidebar" class="closesb active" onclick="closeSidebar()">&#10006;</button>
    </div>
    <div id="listings" class="listings"></div>
  </div>
  <button id="openSidebar" class="opensb" onclick="openSidebar()">&#9776;</button>

  <!-- map -->
  <div id="map" class="map"></div>

  <!--scanning-->
  <a-scene id="scene"
    mindar-image="uiScanning: #scan-overlay; imageTargetSrc: ./targets/test.mind; autoStart: false"
    color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">
    <a-assets>
      <img id="test" src="./img/test.png" />
      <img id="test2" src="./img/test2.png" />
      <img id="test3" src="./img/test3.png" />
      <img id="icon-left" src="./img/left.png" />
      <img id="icon-right" src="./img/right.png" />
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false" cursor="rayOrigin: mouse;" raycaster="objects: .interactable;"></a-camera>

    <a-entity id="mytarget" mindar-image-target="targetIndex: 0">
    <a-circle class="interactable" show-slides="src: ./img/comics/A835AP03S01H01.jpg; steps: 0, 20.00, 40.00, 60.00, 80.00, 100; index: 0; items:4;"></a-circle>
    </a-entity>
    <a-entity mindar-image-target="targetIndex: 1">

    </a-entity>
  </a-scene>


  <!--js-->
  <script src="./js/index.js"></script>
  <script src="./js/map.js"></script>
  <script src="./js/scan.js"></script>
  <script src="./js/slideshow.js"></script>
</body>

</html>